<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="../question mark.ico" type="image/x-icon">
  <link href="../css.css" type="text/css" rel="stylesheet">
  <title>Система подсказок</title>
</head>
<body>
<div id="back">
  <div id="top"><img src="LogoGIT.png"></div>
  <div id="header">Система подсказок v.0.2.&nbsp;</div>
  <div id="header1">&nbsp;<a href="../index.html">Содержание</a> - Про Git</div>
  <div id="content">
    <p>Описание некоторых возможностей системы контроля версий GIT.<BR><BR></p>
   <div class="hd3">Авторизация по ключам ssh</div>
    <ul>
      <li>Запустить bash консоль: ПКМ-Git Bash Here</li>
      <li>Сгенерировать пару ключей, приватный и публичный: ssh-keygen</li>
      <li>Сохранить их, например в домашнюю папку: c:/Users/user_name/.ssh/</li>
      <li>Добавить публичный ключ на Github (<a href="https://github.com/settings/keys"><span class="t_blue">https://github.com/settings/keys</span></a>)</li>
      <li>Запустить ssh agent командой: eval "$(ssh-agent -s)"</li>
      <li>Добавить приватный ключ указав путь к нему: ssh-add ~/.ssh/id_rsa</li>
      <li>Переключить агента с https на ssh: git remote set-url origin git@github.com:yuriybar/myhelp.git</li>
      <li>Проверить доступ на Github: ssh -T git@github.com</li>
    </ul>
    <div class="hd3">Настройка GIT</div>
    <ul>
      <li>Адрес репозитороия на GitHub: <span class="t_purple">git@github.com:yuriybar/myhelp.git</span></li>
      <li><span class="t_red">git config --global user.name "My Name"</span> - добавить пользователя (yuriybar)</li>
      <li><span class="t_red">git config --global user.email myEmail@example.com</span> - установить email (????????@mail.ru)</li>
      <li><span class="t_red">git config credential.helper store</span> - чтобы сохранялся пароль</li>
      <li><span class="t_red">git config --unset credential.helper</span> - обнулить настройку сохранения пароля можно этой командой</li>
      <li><span class="t_red">git config --list</span> - посмотреть настройки (Для выхода клавиша q)</li>
      <li><span class="t_red">git config --global core.editor "'C:/Program Files (x86)/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"</span> - настройка внешнего редактора</li>
      <li><span class="t_red">git remote -v</span> - показать адреса удаленных репозиториев</li>
    </ul>
    <div class="hd3">Разное GIT</div>
    <ul>
      <li><span class="t_red">git status</span> - отобразить текущее состояние проекта (что изменилось, но не сохранено в репозитории)</li>
      <li><span class="t_red">git init</span> - создать локальный репозиторий в текущем каталоге</li>
      <li><span class="t_red">git init --bare</span> - создать репозиторий без рабочей копии</li>
      <li><span class="t_red">git pull</span> - получить все изменения из удаленного репозитория (Github)</li>
      <li><span class="t_red">git add .</span> - добавить файлы под контроль Git</li>
      <li><span class="t_red">git commit -a</span> - сохранить изменения в локальном репозитории с комментированием в текстовом редакторе</li>
      <li><span class="t_red">git commit -m 'Здесь комментарий'</span> - сохранить изменения в локальном репозитории с комментарием</li>
      <li><span class="t_red">git restore &lt;file&gt;</span> - отменить изменения файла в рабочей директории</li>
      <li><span class="t_red">git push</span> - отправить все изменения в удаленный репозиторий (на Github)</li>
    </ul>
<pre>
***

Чтобы удалить директорию из репозитория просто удаляете директорию стандартными методами ОС, а затем делаете:
git add .
и
git commit -m 'Удалена директория folder'
Ну и отправляете новый код на сервер, соответственно: 
git push


После изменения файлов:
git commit -a
Правим комментарий и затем
git push

При добавлении или удалении файлов:
git add .
git commit -a
Правим комментарий и затем
git push

Чтобы добавить целую папку и все файлы в ней:
git add folder_name/*
git commit -a
Правим комментарий и затем
git push

***

Сервисы с бесплатными репозиториями: gitlab, bitbucket.org, 

Как выйти из vim?
Нажать ESC 
Набрать двоеточие и затем команду например
Для выхода без сохранения :q! или :q
Для выхода с сохранением набрать :wq
Быстрый выход с сохраннением Shift+ZZ

i - переход в режим редактирования текста
ESC - переход в командный режим
x - удаление символа под курсором
A - добавление текста в конец текущей строки
a - добавление текста после курсора


===============================================================================
#Создаем репозиторий на Ядиске

#Создаем каталог под локальный репозиторий
mkdir /mnt/data/Project/test_repo
#Переходим в него
cd /mnt/data/Project/test_repo
#Создаем локальный репозиторий
git init
#Создаем файл hello_world.txt c произвольным содержимым
touch hello_world.txt
nano hello_world.txt
#Помещаем только что созданный файл под контроль Git
git add .
#Фиксируем изменения
git commit -m "First commit"
#Создаем удаленный репозиторий
mkdir /mnt/data/Яндекс.Диск/git_repo/test_repo.git
#Переходим в него
cd /mnt/data/Яндекс.Диск/git_repo/test_repo.git
#Создаем репозиторий без рабочей копии
git init --bare
#Возвращаемся в локальный репозиторий
cd /mnt/data/Project/test_repo
#В локальном репозитории указываем где искать удаленный
#yandex_disk - псевдоним для полного пути к удаленному репозиторию
git remote add yandex_disk /mnt/data/Яндекс.Диск/git_repo/test_repo.git
#Передаем изменения из локального репозитория в удаленный
#master - текущая ветка разработки
git push yandex_disk master

#Настройка Git для возможности делать локальный PUSH (для репы на Ядиске)
git config receive.denyCurrentBranch updateInstead
git config --bool core.bare true
===============================================================================

Добавить ключи:
ssh-add ~/.ssh/id_rsa

Проверить статус удаленного репозитория:
git remote -v

Проверка доступа на Github:
ssh -T git@github.com
===============================================================================

Переключение агента с https на ssh:
git remote set-url origin git@github.com:yuriybar/myhelp.git

Обратное переключение при необходимости:
git remote set-url origin https://github.com/yuriybar/myhelp.git
</pre>
    <ul>
      <li><a href="../Git/gitignore.html">Про файл .gitignore</a> - Описание и пример</li>
    </ul>
  </div>
  <div id="header1">&nbsp;<a href="../index.html">Содержание</a> - Про Git</div>
  <br><br>
</div>
</body>
</html>
